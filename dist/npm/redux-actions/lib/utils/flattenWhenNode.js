"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function get(e,n){return(0,_isMap2.default)(n)?n.get(e):n[e]}Object.defineProperty(exports,"__esModule",{value:!0});var _constants=require("./../constants.js"),_isMap=require("./isMap.js"),_isMap2=_interopRequireDefault(_isMap),_ownKeys=require("./ownKeys.js"),_ownKeys2=_interopRequireDefault(_ownKeys);exports.default=function(e){return function n(t){function r(e){var n;if(!f)return e;var t=e.toString().split(_constants.ACTION_TYPE_DELIMITER),r=f.split(_constants.ACTION_TYPE_DELIMITER);return(n=[]).concat.apply(n,_toConsumableArray(r.map(function(e){return t.map(function(n){return""+e+i+n})}))).join(_constants.ACTION_TYPE_DELIMITER)}function o(e){return f||!s?e:""+s+i+e}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a.namespace,i=void 0===u?_constants.DEFAULT_NAMESPACE:u,s=a.prefix,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(0,_ownKeys2.default)(t).forEach(function(a){var u=o(r(a)),f=get(a,t);e(f)?n(f,{namespace:i,prefix:s},_,u):_[u]=f}),_}};